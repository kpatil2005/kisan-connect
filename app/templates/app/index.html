{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Kisan Connect - Empowering Farmers{% endblock %}</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
  
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  
  <!-- Favicon -->
  <link rel="icon" href="{% static 'app/images/logo.png' %}" type="image/png">
  
  <style>
    /* ===== GLOBAL STYLES ===== */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary-green: #006400;
        --secondary-green: #4CAF50;
        --accent-gold: #FFD700;
        --accent-yellow: #ebc907;
        --light-bg: #ffffff;
        --white: #ffffff;
        --text-dark: #333333;
        --text-light: #666666;
        --border-radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    html, body {
        font-family: "Open Sans", sans-serif;
        line-height: 1.6;
        color: var(--text-dark);
        background-color: var(--light-bg);
        overflow-x: hidden !important;
        max-width: 100vw !important;
        position: relative;
    }

    .oswald-nomo {
        font-family: "Oswald", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-style: normal;
    }

    /* ===== NAVIGATION BAR OVERRIDE ===== */
    .navbar {
        background: var(--primary-green) !important;
        box-shadow: var(--shadow);
        backdrop-filter: blur(10px);
        padding: 12px 0;
        overflow: visible !important;
    }
    
    .navbar .dropdown {
        position: static;
    }
    
    @media (min-width: 992px) {
        .navbar .dropdown {
            position: relative;
        }
    }

    .navbar-brand {
        font-family: "Oswald", sans-serif;
        font-weight: 600;
        font-size: 1.5rem;
        color: white !important;
    }
    
    .navbar-brand img {
        transition: transform 0.3s ease;
    }
    
    .navbar-brand:hover img {
        transform: scale(1.1);
    }

    .navbar-nav .nav-link {
        color: white !important;
        font-weight: 600;
        padding: 12px 16px !important;
        border-radius: 8px;
        transition: var(--transition);
        margin: 0 2px;
    }

    .navbar-nav .nav-link:hover {
        color: var(--accent-gold) !important;
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-2px);
    }
    
    .navbar-toggler {
        border: 2px solid rgba(255, 255, 255, 0.5);
        padding: 0.5rem 0.75rem;
    }
    
    .navbar-toggler:focus {
        box-shadow: 0 0 0 0.2rem rgba(255, 255, 255, 0.3);
    }

    .dropdown-menu {
        background: var(--white);
        border: none;
        border-radius: var(--border-radius);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        animation: fadeInDown 0.3s ease;
        position: absolute !important;
        z-index: 1050;
        margin-top: 0.5rem !important;
    }
    
    .dropdown-item button {
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        padding: 0;
        color: inherit;
        font: inherit;
    }

    .dropdown-item {
        color: var(--text-dark);
        padding: 12px 20px;
        transition: var(--transition);
    }

    .dropdown-item:hover {
        background: var(--light-bg);
        color: var(--secondary-green);
    }

    /* ===== HERO SLIDER ===== */
    .hero-slider-container{position:relative;width:100%;height:100vh;overflow:hidden}
    @media (max-width:768px){.hero-slider-container{height:70vh;min-height:500px}}
    .hero-slides-wrapper{display:flex;width:100%;height:100%;transition:transform 1s ease-in-out}
    .hero-slide{min-width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}
    .hero-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:1}
    .hero-content{position:relative;z-index:2;text-align:center;padding:0 20px;max-width:900px;animation:fadeInUp 1s ease}
    @media (max-width:768px){.hero-content{padding:0 15px;max-width:100%}}
    .hero-title{font-family:'Oswald',sans-serif;font-size:clamp(2.5rem,5vw,4rem);font-weight:700;color:#fff;margin-bottom:20px;text-shadow:2px 2px 10px rgba(0,0,0,0.7)}
    @media (max-width:768px){.hero-title{font-size:clamp(1.5rem,6vw,2rem);margin-bottom:12px;line-height:1.2}}
    .hero-subtitle{font-size:clamp(1.1rem,2vw,1.5rem);color:#fff;margin-bottom:30px;text-shadow:1px 1px 8px rgba(0,0,0,0.5)}
    @media (max-width:768px){.hero-subtitle{font-size:clamp(0.9rem,3.5vw,1.1rem);margin-bottom:20px;line-height:1.4}}
    .hero-indicators{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);display:flex;gap:12px;z-index:10}
    @media (max-width:768px){.hero-indicators{bottom:15px;gap:8px}.indicator{width:8px;height:8px}}
    .indicator{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.5);cursor:pointer;transition:all 0.3s;border:2px solid transparent}
    .indicator.active{background:#fff;transform:scale(1.3);border-color:#ffc107}
    .scroll-indicator{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);z-index:10;text-align:center;cursor:pointer}
    @media (max-width:768px){.scroll-indicator{bottom:40px}}
    .mouse{width:26px;height:40px;border:2px solid #fff;border-radius:15px;position:relative;animation:bounce 2s infinite}
    .mouse::before{content:'';width:4px;height:8px;background:#fff;border-radius:2px;position:absolute;top:8px;left:50%;transform:translateX(-50%);animation:scroll 2s infinite}
    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}
    @keyframes scroll{0%{opacity:1;top:8px}100%{opacity:0;top:20px}}

    #bg-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
    }

    header h1 {
        font-family: "Oswald", sans-serif;
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 700;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        animation: fadeInUp 1s ease 0.3s both;
    }

    header p {
        font-size: clamp(1.1rem, 2vw, 1.3rem);
        margin-bottom: 30px;
        max-width: 600px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        animation: fadeInUp 1s ease 0.6s both;
    }

    /* ===== BUTTON STYLES ===== */
    .btn-custom {
        display: inline-block;
        background: linear-gradient(135deg, var(--accent-yellow), var(--accent-gold));
        color: var(--text-dark);
        padding: 15px 30px;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        border-radius: var(--border-radius);
        transition: var(--transition);
        box-shadow: 0 4px 15px rgba(235, 201, 7, 0.3);
        animation: fadeInUp 1s ease 0.9s both;
        position: relative;
        overflow: hidden;
        border: none;
    }

    .btn-custom::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: var(--transition);
    }

    .btn-custom:hover::before {
        left: 100%;
    }

    .btn-custom:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(235, 201, 7, 0.4);
        color: var(--text-dark);
        text-decoration: none;
    }

    /* ===== SECTION STYLES ===== */
    .custom-section {
        padding: 80px 0;
        opacity:0;
        transform:translateY(50px);
        transition:all 0.8s ease;
    }
    .custom-section.visible{opacity:1;transform:translateY(0)}
    .custom-section:nth-child(even) {
        background: var(--white);
    }

    .custom-section:nth-child(odd) {
        background: var(--light-bg);
    }

    /* ===== SECTION CONTENT STYLES ===== */
    .section-title {
        font-family: "Oswald", sans-serif;
        font-size: clamp(2rem, 4vw, 2.8rem);
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--primary-green);
        position: relative;
        transition:all 0.3s ease;
    }
    .section-title:hover{color:#66bb6a;transform:translateX(10px)}

    .section-text {
        font-size: 1.1rem;
        line-height: 1.7;
        color: var(--text-light);
        margin-bottom: 30px;
    }

    /* Video Styling */
    .styled-video {
        width: 100%;
        max-width: 500px;
        height: 300px;
        border-radius: var(--border-radius);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        border: 3px solid var(--primary-green);
        object-fit: cover;
        transition: all 0.5s cubic-bezier(0.4,0,0.2,1);
    }

    .styled-video:hover {
        transform: scale(1.05) rotate(2deg);
        box-shadow: 0 20px 50px rgba(76,175,80,0.4);
        border-color:#66bb6a;
    }

    /* ===== ABOUT SECTION ===== */
    #about {
        padding: 80px 40px;
        background: linear-gradient(135deg, #f9f9f9, #ffffff);
        margin: 40px auto;
        width: 90%;
        max-width: 1100px;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    #about h2 {
        font-family: "Oswald", sans-serif;
        font-size: clamp(2.2rem, 4vw, 3rem);
        font-weight: 700;
        margin-bottom: 30px;
        color: var(--secondary-green);
        position: relative;
        padding-bottom: 20px;
    }

    #about h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, var(--accent-gold), var(--accent-yellow));
        border-radius: 2px;
    }

    #about p {
        font-size: 1.2rem;
        color: var(--text-light);
        line-height: 1.8;
        margin: 0 auto 25px;
        max-width: 900px;
    }

    /* ===== FOOTER ===== */
    footer {
        background: linear-gradient(135deg, var(--primary-green), var(--secondary-green));
        color: white;
        padding: 30px 20px;
        text-align: center;
        margin-top: 0;
    }

    footer p {
        margin-bottom: 5px;
        font-weight: 500;
    }

    /* ===== WHATSAPP BUTTON ===== */
    .whatsapp-float {
        position: fixed;
        bottom: 100px;
        right: 25px;
        z-index: 1000;
        cursor: pointer;
        transition: transform 0.3s ease;
    }
    .whatsapp-float:hover {
        transform: scale(1.1);
    }
    .whatsapp-float img {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        box-shadow: 0 4px 15px rgba(37, 211, 102, 0.5);
    }
    @media (max-width:768px){.whatsapp-float{display:none}}

    /* ===== CHAT STYLES ===== */
    #chat-toggle-btn {
        position: fixed;
        bottom: 25px;
        right: 25px;
        background: linear-gradient(135deg, var(--secondary-green), #45a049);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        transition: var(--transition);
        z-index: 1000;
    }

    #chat-toggle-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
    }

    #chat-window {
        display: none;
        position: fixed;
        bottom: 95px;
        right: 25px;
        width: 360px;
        max-height: 500px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        font-family: Arial, sans-serif;
        overflow: hidden;
        flex-direction: column;
        z-index: 1000;
        animation: slideInUp 0.3s ease;
    }

    #chat-window.active {
        display: flex;
    }

    #chat-header {
        background: linear-gradient(135deg, var(--secondary-green), #45a049);
        color: white;
        padding: 18px;
        font-weight: 600;
        font-size: 18px;
        text-align: center;
    }

    #chat-messages {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        background: #f8f9fa;
        display: flex;
        flex-direction: column;
        gap: 12px;
        max-height: 300px;
    }

    .chat-message {
        max-width: 85%;
        padding: 12px 16px;
        border-radius: 18px;
        font-size: 14px;
        line-height: 1.5;
        word-wrap: break-word;
        animation: messageSlide 0.3s ease;
    }

    .chat-message.user {
        background: linear-gradient(135deg, #d4edda, #c3e6cb);
        color: #155724;
        align-self: flex-end;
        border-bottom-right-radius: 6px;
    }

    .chat-message.bot {
        background: linear-gradient(135deg, #e9ecef, #dee2e6);
        color: #212529;
        align-self: flex-start;
        border-bottom-left-radius: 6px;
        white-space: pre-line;
    }

    #chat-input-container {
        padding: 15px;
        border-top: 1px solid #e0e0e0;
        display: flex;
        gap: 10px;
        background: white;
    }

    #chat-input {
        flex: 1;
        border: 2px solid #e0e0e0;
        border-radius: 20px;
        padding: 12px 16px;
        font-size: 14px;
        outline: none;
        transition: var(--transition);
    }

    #chat-input:focus {
        border-color: var(--secondary-green);
        box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }

    #chat-send-btn {
        border: none;
        background: linear-gradient(135deg, var(--secondary-green), #45a049);
        color: white;
        padding: 12px 20px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
        transition: var(--transition);
    }

    #chat-send-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }

    /* ===== ANIMATIONS ===== */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeInDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes messageSlide {
        from {
            opacity: 0;
            transform: translateX(-10px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* Mobile navbar animation */
    @media (max-width: 768px) {
        .navbar-collapse.show,
        .navbar-collapse.collapsing {
            animation: slideDown 0.3s ease;
        }
        
        .navbar-nav .nav-item {
            animation: fadeInUp 0.3s ease forwards;
            opacity: 0;
        }
        
        .navbar-nav .nav-item:nth-child(1) { animation-delay: 0.05s; }
        .navbar-nav .nav-item:nth-child(2) { animation-delay: 0.1s; }
        .navbar-nav .nav-item:nth-child(3) { animation-delay: 0.15s; }
        .navbar-nav .nav-item:nth-child(4) { animation-delay: 0.2s; }
        .navbar-nav .nav-item:nth-child(5) { animation-delay: 0.25s; }
        .navbar-nav .nav-item:nth-child(6) { animation-delay: 0.3s; }
        .navbar-nav .nav-item:nth-child(7) { animation-delay: 0.35s; }
        .navbar-nav .nav-item:nth-child(8) { animation-delay: 0.4s; }
    }

    /* ===== MOBILE FIX - PREVENT OVERFLOW ===== */
    .container, .container-fluid {
        max-width: 100% !important;
        overflow-x: hidden;
    }
    
    /* Mobile: Video between title and description */
    @media (max-width: 768px) {
        #marketplace .row,
        #advice .row,
        #forum .row,
        #news .row,
        #disease-detection .row,
        #schemes .row,
        #prediction .row,
        #contact .row {
            display: flex;
            flex-direction: column;
        }
        
        #marketplace .section-title,
        #advice .section-title,
        #forum .section-title,
        #news .section-title,
        #disease-detection .section-title,
        #schemes .section-title,
        #prediction .section-title,
        #contact .section-title {
            order: 1;
        }
        
        #marketplace .col-lg-6:has(video),
        #advice .col-lg-6:has(video),
        #forum .col-lg-6:has(video),
        #news .col-lg-6:has(video),
        #disease-detection .col-lg-6:has(video),
        #schemes .col-lg-6:has(video),
        #prediction .col-lg-6:has(video),
        #contact .col-lg-6:has(video) {
            order: 2 !important;
            margin-bottom: 1rem;
        }
        
        #marketplace .section-text,
        #advice .section-text,
        #forum .section-text,
        #news .section-text,
        #disease-detection .section-text,
        #schemes .section-text,
        #prediction .section-text,
        #contact .section-text {
            order: 3;
        }
        
        #marketplace .btn-custom,
        #advice .btn-custom,
        #forum .btn-custom,
        #news .btn-custom,
        #disease-detection .btn-custom,
        #schemes .btn-custom,
        #prediction .btn-custom,
        #contact .btn-custom {
            order: 4;
        }
    }
    
    .row {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
    
    section {
        overflow-x: hidden;
        max-width: 100vw;
    }
    
    /* ===== ENHANCED MOBILE UI ===== */
    .section-title {
        text-align: center;
        margin-bottom: 1.5rem;
    }
    
    .section-text {
        text-align: center;
        margin-bottom: 1.5rem;
    }
    
    .btn-custom {
        display: block;
        width: fit-content;
        margin: 0 auto;
    }

    /* ===== MOBILE NAVBAR IMPROVEMENTS ===== */
    @media (max-width: 768px) {
        .navbar {
            padding: 8px 0;
        }
        
        .navbar-brand {
            font-size: 1.1rem;
        }
        
        .navbar-brand img {
            width: 35px !important;
            height: 35px !important;
        }
        
        .navbar-toggler {
            padding: 0.4rem 0.6rem;
            font-size: 1.1rem;
        }
        
        .navbar-collapse {
            background: rgba(0, 100, 0, 0.98);
            margin-top: 10px;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .navbar-nav .nav-link {
            padding: 10px 15px !important;
            margin: 3px 0;
            border-radius: 8px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
        }
        
        .navbar-nav .nav-link i {
            font-size: 1.1rem;
            margin-right: 8px;
            width: 20px;
        }
        
        .navbar-nav .nav-link:active {
            background: rgba(255, 215, 0, 0.2);
        }
        
        .dropdown-menu {
            background: rgba(255, 255, 255, 0.95);
            border: none;
            margin-top: 5px;
            border-radius: 8px;
            position: static !important;
        }
        
        .dropdown-item {
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        
        .dropdown-item i {
            width: 20px;
        }
    }
    
    /* ===== RESPONSIVE OVERRIDES ===== */
    @media (max-width: 768px) {
        body, html {
            overflow-x: hidden !important;
        }
        
        .container, .container-fluid {
            padding-left: 15px !important;
            padding-right: 15px !important;
        }
        
        .row {
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
        
        [class*="col-"] {
            padding-left: 10px !important;
            padding-right: 10px !important;
        }
        
        /* Center all content on mobile */
        .custom-section .row {
            text-align: center;
        }
        
        .custom-section h2,
        .custom-section p {
            text-align: center !important;
        }
        
        /* Make videos smaller and centered */
        .styled-video {
            max-width: 100% !important;
            height: 200px !important;
            margin: 1rem auto !important;
        }
        
        /* Better spacing between sections */
        .custom-section {
            padding: 40px 0 !important;
        }
        
        /* Larger, more visible buttons */
        .btn-custom {
            width: 90% !important;
            max-width: 300px;
            margin: 1rem auto !important;
            display: block !important;
            font-size: 1rem !important;
            padding: 12px 20px !important;
        }
        
        /* Better section titles */
        .section-title {
            font-size: 1.5rem !important;
            margin-bottom: 1rem !important;
            line-height: 1.3 !important;
        }
        
        .section-text {
            font-size: 0.95rem !important;
            line-height: 1.6 !important;
            margin-bottom: 1.5rem !important;
        }
        .navbar-nav {
            text-align: center;
        }
        
        .navbar-nav .nav-link {
            margin: 5px 0;
        }
        
        header {
            height: 70vh;
            padding: 0 20px;
        }
        
        .custom-section {
            padding: 50px 0;
        }
        
        .btn-custom {
            padding: 12px 24px;
            font-size: 15px;
        }
        
        #chat-window {
            width: calc(100vw - 40px);
            right: 20px;
            left: 20px;
        }
        
        #about {
            width: 95%;
            padding: 50px 25px;
        }
        
        /* Fix newsletter section overflow */
        .display-3 {
            font-size: 1.5rem !important;
        }
        
        .d-flex.justify-content-around {
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        /* Fix video containers */
        .styled-video {
            max-width: 100% !important;
            width: 100% !important;
        }
        
        /* Fix marketplace intro */
        #marketplace-intro .col-lg-6 > div {
            width: 100% !important;
            margin-left: 0 !important;
            max-width: 100% !important;
        }
        
        /* Hero section improvements */
        header h1 {
            font-size: 1.8rem !important;
            padding: 0 10px;
        }
        
        header p {
            font-size: 1rem !important;
            padding: 0 15px;
        }
        
        /* Marketplace intro improvements */
        #marketplace-intro h1 {
            font-size: 1.6rem !important;
            margin-bottom: 1rem !important;
        }
        
        #marketplace-intro .lead {
            font-size: 0.9rem !important;
        }
        
        #marketplace-intro ul {
            font-size: 0.9rem !important;
            padding-left: 20px;
        }
        
        /* About section improvements */
        #about h2 {
            font-size: 1.5rem !important;
        }
        
        #about h3 {
            font-size: 1.3rem !important;
        }
        
        #about p {
            font-size: 0.9rem !important;
        }
        
        /* Card improvements */
        .card {
            margin-bottom: 1rem;
        }
        
        .card h4 {
            font-size: 1.1rem !important;
        }
        
        .card p {
            font-size: 0.85rem !important;
        }
    }
    
    /* Extra small devices */
    @media (max-width: 576px) {
        /* Navbar for very small screens */
        .navbar {
            padding: 6px 0;
        }
        
        .navbar-brand {
            font-size: 0.95rem;
        }
        
        .navbar-brand img {
            width: 30px !important;
            height: 30px !important;
        }
        
        .navbar-brand span {
            display: inline-block;
            max-width: 150px;
        }
        
        .navbar-toggler {
            padding: 0.35rem 0.5rem;
            font-size: 1rem;
        }
        
        .navbar-collapse {
            padding: 10px;
            margin-top: 8px;
        }
        
        .navbar-nav .nav-link {
            padding: 8px 12px !important;
            font-size: 0.85rem;
        }
        
        .navbar-nav .nav-link i {
            font-size: 1rem;
            margin-right: 6px;
        }
        
        .dropdown-item {
            padding: 8px 12px;
            font-size: 0.85rem;
        }
        
        .container-fluid {
            padding-left: 10px !important;
            padding-right: 10px !important;
        }
        
        .display-3 {
            font-size: 1.2rem !important;
            line-height: 1.4 !important;
        }
        
        .lead {
            font-size: 0.85rem !important;
            line-height: 1.5 !important;
        }
        
        .btn-lg {
            font-size: 0.85rem !important;
            padding: 0.6rem 1rem !important;
        }
        
        /* Optimize hero section for small screens */
        header {
            height: 60vh !important;
            padding: 0 10px !important;
        }
        
        header h1 {
            font-size: 1.5rem !important;
            margin-bottom: 0.8rem !important;
        }
        
        header p {
            font-size: 0.9rem !important;
            margin-bottom: 1rem !important;
        }
        
        header .btn {
            font-size: 0.85rem !important;
            padding: 0.6rem 1.2rem !important;
        }
        
        /* Section spacing */
        .custom-section {
            padding: 30px 0 !important;
        }
        
        /* Video sizing */
        .styled-video {
            height: 180px !important;
        }
        
        /* Newsletter section */
        .container-fluid.bg-success {
            padding: 30px 10px !important;
        }
        
        .container-fluid.bg-success h2 {
            font-size: 1.1rem !important;
            max-width: 100% !important;
        }
        
        .container-fluid.bg-success .lead {
            font-size: 0.8rem !important;
        }
        
        .container-fluid.bg-success .d-flex.justify-content-around > div {
            flex: 0 0 45%;
            margin-bottom: 1rem;
        }
        
        .container-fluid.bg-success .d-flex.justify-content-around i {
            font-size: 1.5rem !important;
        }
        
        .container-fluid.bg-success .d-flex.justify-content-around p {
            font-size: 0.7rem !important;
        }
        
        /* Auth section */
        #auth-section h2 {
            font-size: 1.4rem !important;
        }
        
        #auth-section .lead {
            font-size: 0.85rem !important;
        }
        
        #auth-section .btn {
            font-size: 0.85rem !important;
            padding: 0.6rem 1rem !important;
            margin: 0.3rem !important;
        }
        
        /* Marketplace intro */
        #marketplace-intro h1 {
            font-size: 1.4rem !important;
        }
        
        #marketplace-intro ul li {
            font-size: 0.85rem !important;
        }
        
        /* About section */
        #about {
            padding: 30px 15px !important;
        }
        
        #about h2 {
            font-size: 1.3rem !important;
        }
        
        #about h3 {
            font-size: 1.1rem !important;
        }
        
        #about img {
            max-width: 150px !important;
            margin: 1rem auto !important;
        }
    }

    /* ===== UTILITY CLASSES ===== */
    .text-center {
        text-align: center;
    }

    .mb-0 {
        margin-bottom: 0;
    }

    .mt-0 {
        margin-top: 0;
    }

    /* ===== MOBILE VISUAL ENHANCEMENTS ===== */
    @media (max-width: 576px) {
        /* Add subtle shadows to sections */
        .custom-section {
            box-shadow: inset 0 1px 0 rgba(0,0,0,0.05);
        }
        
        /* Enhance buttons with gradients */
        .btn-custom {
            background: linear-gradient(135deg, #FFD700, #FFA500) !important;
            box-shadow: 0 4px 15px rgba(255, 165, 0, 0.3);
            font-weight: 700;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997) !important;
            border: none;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        /* Add icons emphasis */
        .section-title::before {
            display: block;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        /* Better card styling */
        .card {
            border-radius: 15px !important;
            border: none !important;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1) !important;
        }
        
        /* Improve list items */
        ul li {
            padding: 0.3rem 0;
            line-height: 1.6;
        }
    }
    
    /* ===== ACCESSIBILITY ===== */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    /* Focus styles for accessibility */
    a:focus,
    button:focus,
    input:focus {
        outline: 2px solid var(--secondary-green);
        outline-offset: 2px;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body>
<nav class="modern-navbar">
  <div class="container-fluid">
    <div class="nav-wrapper">
      <a class="brand" href="{% url 'home' %}">
        <img src="{% static 'app/images/logo.png' %}" alt="Logo" />
        <span>Kisan Connect</span>
      </a>
      
      <button class="mobile-toggle" type="button" onclick="document.getElementById('mobileNav').classList.toggle('show')">
        <i class="bi bi-list"></i>
      </button>

      <div class="nav-content" id="mobileNav">
        <ul class="nav-menu">
          <li><a href="{% url 'app:home' %}"><i class="bi bi-house-fill"></i> Home</a></li>
          <li><a href="{% url 'app:schemes' %}"><i class="bi bi-shop"></i> Marketplace</a></li>
          <li class="dropdown">
            <a href="#" data-bs-toggle="dropdown"><i class="bi bi-lightbulb"></i> Services</a>
            <ul class="dropdown-menu">
              <li><a href="{% url 'app:weather' %}"><i class="bi bi-cloud-sun"></i> Weather</a></li>
              <li><a href="{% url 'app:crops' %}"><i class="bi bi-flower1"></i> Crop Selection</a></li>
              <li><a href="{% url 'app:fertilizers' %}"><i class="bi bi-droplet"></i> Fertilizers</a></li>
              <li><a href="{% url 'app:capture_and_predict' %}"><i class="bi bi-camera"></i> Disease Detection</a></li>
              <li><a href="{% url 'app:prediction' %}"><i class="bi bi-graph-up"></i> Yield Prediction</a></li>
            </ul>
          </li>
          <li><a href="{% url 'app:forum' %}"><i class="bi bi-chat-dots"></i> Forum</a></li>
          <li><a href="{% url 'app:news' %}"><i class="bi bi-newspaper"></i> News</a></li>
        </ul>
        
        <div class="nav-actions">
          {% if user.is_authenticated %}
          <div class="user-profile">
            <span class="user-name">Welcome, {{ user.first_name|default:user.username }}</span>
          </div>
          <a href="{% url 'app:profile' %}" class="user-btn"><i class="bi bi-person"></i> <span class="btn-text">Profile</span></a>
          <a href="#" onclick="document.getElementById('logoutFormIndex').submit(); return false;" class="logout-btn"><i class="bi bi-box-arrow-right"></i> <span class="btn-text">Logout</span></a>
          {% else %}
          <a href="#" data-bs-toggle="modal" data-bs-target="#roleSelectModal" class="login-btn"><i class="bi bi-box-arrow-in-right"></i> <span class="btn-text">Login</span></a>
          <a href="#" data-bs-toggle="modal" data-bs-target="#roleSelectModal" class="register-btn"><i class="bi bi-person-plus"></i> <span class="btn-text">Register</span></a>
          {% endif %}
        </div>
        <form method="post" action="{% url 'app:logout' %}" id="logoutFormIndex" style="display:none;">{% csrf_token %}</form>
      </div>
    </div>
  </div>
</nav>

<!-- WhatsApp Float Button -->
<a href="https://wa.me/YOUR_PHONE_NUMBER" target="_blank" class="whatsapp-float" aria-label="Contact us on WhatsApp">
  <img src="{% static 'app/images/icons8-whatsapp.gif' %}" alt="WhatsApp">
</a>
  <style>
.modern-navbar{background:linear-gradient(135deg,#1b5e20,#2e7d32);position:sticky;top:0;z-index:99999;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.nav-wrapper{display:flex;align-items:center;justify-content:space-between;padding:0.5rem 1rem;position:relative;z-index:99999}
.brand{display:flex;align-items:center;gap:0.4rem;color:#fff;text-decoration:none;font-weight:700;font-size:0.95rem}
.brand img{height:32px;border-radius:8px}
.mobile-toggle{display:none;background:none;border:2px solid #fff;color:#fff;font-size:1.5rem;padding:0.25rem 0.5rem;border-radius:8px;cursor:pointer;line-height:1;z-index:100000}
.nav-content{display:flex;align-items:center;gap:1.5rem;flex:1;margin-left:1.5rem}
.nav-menu{display:flex;list-style:none;margin:0;padding:0;gap:0.3rem}
.nav-menu li{position:relative}
.nav-menu a{color:#fff;text-decoration:none;padding:0.5rem 0.8rem;border-radius:6px;transition:all 0.3s;display:flex;align-items:center;gap:0.3rem;font-size:0.85rem;white-space:nowrap}
.nav-menu a:hover{background:rgba(255,255,255,0.15)}
.dropdown-menu{position:absolute;top:100%;left:0;background:#fff;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.15);padding:0.4rem 0;min-width:180px;z-index:100001}
.dropdown-menu li{list-style:none}
.dropdown-menu a{color:#333;padding:0.6rem 1rem;border-radius:0;font-size:0.85rem}
.dropdown-menu a:hover{background:#f0f0f0}
.search-form{display:flex;margin-left:auto}
.search-form input{border:none;padding:0.5rem 0.8rem;border-radius:25px 0 0 25px;width:200px;outline:none;font-size:0.85rem}
.search-form button{border:none;background:#ffc107;padding:0.5rem 0.8rem;border-radius:0 25px 25px 0;cursor:pointer;color:#333;font-size:0.85rem}
.nav-actions{display:flex;align-items:center;gap:0.6rem;margin-left:auto}
.user-btn,.logout-btn,.login-btn,.register-btn{color:#fff;text-decoration:none;padding:0.5rem 0.8rem;border-radius:25px;display:flex;align-items:center;gap:0.3rem;font-weight:600;transition:all 0.3s;white-space:nowrap;font-size:0.85rem}
.user-profile{display:none}
.logout-btn{background:#dc3545;border:2px solid #dc3545}
.logout-btn:hover{background:#c82333;border-color:#c82333}
.cart-btn{background:#ffc107;color:#333;position:relative}
.cart-btn .badge{position:absolute;top:-5px;right:-5px;background:#dc3545;color:#fff;border-radius:50%;padding:0.15rem 0.4rem;font-size:0.65rem}
.login-btn{border:2px solid #fff}
.register-btn{background:#ffc107;color:#333}

@media (max-width: 1200px) {
  .nav-wrapper{padding:0.5rem 0.8rem}
  .nav-content{gap:0.8rem;margin-left:0.8rem}
  .nav-menu{gap:0.2rem}
  .nav-menu a{padding:0.4rem 0.6rem;font-size:0.8rem}
  .search-form input{width:150px;font-size:0.8rem;padding:0.4rem 0.6rem}
  .search-form button{padding:0.4rem 0.6rem;font-size:0.8rem}
  .nav-actions{gap:0.4rem}
  .user-btn,.cart-btn,.login-btn,.register-btn{padding:0.4rem 0.6rem;font-size:0.8rem}
  .btn-text{display:none}
}

@media (max-width: 992px) {
  .mobile-toggle{display:block !important;z-index:100000}
  .nav-content{position:fixed;top:0;left:-100%;width:280px;height:100vh;background:#ffffff;flex-direction:column;align-items:stretch;margin:0;padding:1.2rem;box-shadow:4px 0 30px rgba(0,0,0,0.15);overflow-y:auto;z-index:99999;transition:left 0.4s cubic-bezier(0.25,0.8,0.25,1);border-right:none}
  .nav-content.show{left:0 !important;display:flex !important}
  .nav-content::before{content:'';position:fixed;top:0;left:0;width:100vw;height:100vh;background:transparent;z-index:-1;opacity:0;pointer-events:none;transition:opacity 0.4s}
  .nav-content.show::before{opacity:0;pointer-events:auto}
  .user-profile{display:flex;align-items:center;justify-content:flex-end;padding:1rem 1.5rem;background:#2e7d32;margin:0;width:100%;border-radius:0}
  .user-name{font-weight:600;color:#fff;font-size:0.95rem;text-align:right}
  .nav-menu{flex-direction:column;width:100%;gap:0.3rem;margin-top:0}
  .nav-menu li{width:100%}
  .nav-menu a{padding:0.8rem 1rem;width:100%;justify-content:flex-start;font-size:0.85rem;color:#fff;border-radius:12px;background:linear-gradient(135deg,#2e7d32,#388e3c);border:none;font-weight:600;box-shadow:0 3px 12px rgba(46,125,50,0.2);transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}
  .nav-menu a:hover{background:linear-gradient(135deg,#1b5e20,#2e7d32);color:#fff;transform:translateX(6px) scale(1.02);box-shadow:0 6px 20px rgba(46,125,50,0.3)}
  .nav-menu a i{color:#fff;margin-right:0.8rem;font-size:1rem;transition:transform 0.3s}
  .nav-menu a:hover i{transform:scale(1.1)}
  .dropdown-menu{position:static !important;box-shadow:none;background:linear-gradient(135deg,#388e3c,#4caf50);margin:0.4rem 0 0 1.5rem;border-radius:10px;display:block !important;padding:0.4rem 0;border:none}
  .dropdown-menu a{color:#fff !important;padding:0.7rem 1rem;font-size:0.8rem;background:transparent;border:none;box-shadow:none;transform:none !important}
  .dropdown-menu a:hover{background:linear-gradient(135deg,#2e7d32,#388e3c) !important;color:#fff !important;transform:translateX(4px) !important}
  .search-form{width:100%;margin:1.2rem 0;order:-1}
  .search-form input{width:100%;border-radius:20px;padding:0.8rem 1rem;font-size:0.85rem;border:2px solid #2e7d32;background:#f5f5f5;color:#333;box-shadow:inset 0 3px 8px rgba(46,125,50,0.08);transition:all 0.3s}
  .search-form input:focus{border-color:#4caf50;box-shadow:0 0 0 4px rgba(76,175,80,0.15);transform:scale(1.02)}
  .search-form button{display:none}
  .nav-actions{display:flex;flex-direction:row;justify-content:flex-end !important;gap:0.8rem;margin:0;padding:1rem 1.5rem;border-top:none;background:#f8f9fa;flex-wrap:wrap}
  .user-btn,.login-btn,.register-btn,.logout-btn{padding:0.6rem 1.2rem;font-size:0.85rem;border-radius:20px;font-weight:600;background:#fff;color:#2e7d32;border:2px solid #e0e0e0;box-shadow:0 2px 8px rgba(0,0,0,0.08);transition:all 0.2s;display:flex;align-items:center;gap:0.4rem}
  .user-btn:hover,.login-btn:hover,.register-btn:hover{background:#2e7d32;color:#fff;border-color:#2e7d32;transform:translateY(-2px);box-shadow:0 4px 12px rgba(46,125,50,0.2)}
  .logout-btn{background:#dc3545 !important;color:#fff !important;border-color:#dc3545 !important}
  .logout-btn:hover{background:#c82333 !important;border-color:#c82333 !important;transform:translateY(-2px);box-shadow:0 4px 12px rgba(220,53,69,0.3) !important}
  .btn-text{display:none}
  .user-btn i,.cart-btn i,.login-btn i,.register-btn i,.logout-btn i{font-size:1rem}
  .user-btn:hover i,.cart-btn:hover i,.login-btn:hover i,.register-btn:hover i,.logout-btn:hover i{color:#fff}
}

@media (max-width: 576px) {
  .nav-wrapper{padding:0.4rem 0.6rem;gap:0.5rem}
  .brand{font-size:0.85rem;flex:1}
  .brand span{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
  .brand img{height:28px}
  .mobile-toggle{font-size:1.3rem;padding:0.2rem 0.4rem;display:block !important}
  .nav-content{width:85%;max-width:300px;padding:1.2rem 0.8rem}
  .nav-menu a{font-size:0.85rem;padding:0.75rem 0.9rem}
  .dropdown-menu a{font-size:0.8rem;padding:0.6rem 0.9rem}
  .search-form input{padding:0.7rem 0.9rem;font-size:0.85rem}
  .nav-actions{gap:0.5rem}
  .user-btn,.login-btn,.register-btn,.logout-btn{font-size:0.85rem;padding:0.7rem 0.9rem}
  .cart-btn .badge{font-size:0.65rem;padding:0.15rem 0.4rem}
}
  </style>

<div class="hero-slider-container">
  <div class="hero-slides-wrapper">
  <div class="hero-slide" style="background:url('{% static 'app/images/herosection.jpg' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Empowering Farmers, Inspiring Growth</h1>
      <p class="hero-subtitle">Access government schemes, expert advice, and connect with a thriving farming community</p>
      <a href="{% url 'app:schemes' %}" class="btn btn-success btn-lg shadow" style="border-radius:50px;font-weight:700">Explore Opportunities</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/heromarket.png' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Smart Farming Marketplace</h1>
      <p class="hero-subtitle">Premium seeds, fertilizers, and farming tools from trusted suppliers to boost your productivity</p>
      <a href="{% url 'app:schemes' %}" class="btn btn-warning btn-lg shadow" style="border-radius:50px;font-weight:700">Visit Marketplace</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/plantdetection.png' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">AI-Powered Disease Detection</h1>
      <p class="hero-subtitle">Advanced computer vision technology to detect crop diseases and protect your harvest</p>
      <a href="{% url 'app:disease_detection' %}" class="btn btn-danger btn-lg shadow" style="border-radius:50px;font-weight:700">Detect Disease</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/weatherhero.jpg' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Weather & Farming Insights</h1>
      <p class="hero-subtitle">Real-time weather forecasts and expert farming tips to maximize your crop yield</p>
      <a href="{% url 'app:farming_advice' %}" class="btn btn-info btn-lg shadow" style="border-radius:50px;font-weight:700">View Advice</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/Crop Yield Prediction.webp' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Crop Yield Prediction</h1>
      <p class="hero-subtitle">Data-driven insights using rainfall, temperature, and soil quality for better harvests</p>
      <a href="{% url 'app:prediction' %}" class="btn btn-success btn-lg shadow" style="border-radius:50px;font-weight:700">Predict Yield</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/scheme.jpg' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Government Schemes & Support</h1>
      <p class="hero-subtitle">Discover subsidies, loans, and support programs designed specifically for farmers</p>
      <a href="{% url 'app:schemes' %}" class="btn btn-primary btn-lg shadow" style="border-radius:50px;font-weight:700">Find Schemes</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/farmingnews.jpg' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Latest Farming News</h1>
      <p class="hero-subtitle">Stay informed with agricultural news, policy changes, and market trends</p>
      <a href="{% url 'app:news' %}" class="btn btn-warning btn-lg shadow" style="border-radius:50px;font-weight:700">Read More</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-slide" style="background:url('{% static 'app/images/Farmer Community Forum.jpeg' %}') center/cover no-repeat">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1 class="hero-title">Farmer Community Forum</h1>
      <p class="hero-subtitle">Connect, share knowledge, and learn from experienced agricultural professionals</p>
      <a href="{% url 'app:forum' %}" class="btn btn-success btn-lg shadow" style="border-radius:50px;font-weight:700">Join Forum</a>
    </div>
    <div class="scroll-indicator" onclick="document.querySelector('#auth-section, #marketplace-intro').scrollIntoView({behavior:'smooth'})">
      <div class="mouse"></div>
    </div>
  </div>
  <div class="hero-indicators">
    <span class="indicator active" data-slide="0"></span>
    <span class="indicator" data-slide="1"></span>
    <span class="indicator" data-slide="2"></span>
    <span class="indicator" data-slide="3"></span>
    <span class="indicator" data-slide="4"></span>
    <span class="indicator" data-slide="5"></span>
    <span class="indicator" data-slide="6"></span>
    <span class="indicator" data-slide="7"></span>
  </div>

  </div>
</div>

<!-- Login/Register Section -->
{% if not user.is_authenticated %}
<section id="auth-section" class="py-5" style="background: linear-gradient(135deg, #28a745, #20c997);">
  <div class="container">
    <div class="row justify-content-center text-center text-white">
      <div class="col-lg-8">
        <h2 class="display-4 fw-bold mb-3">üîê Access All Features</h2>
        <p class="lead mb-4">
          Login to access marketplace, weather advice, community forum, disease detection, and all premium farming tools.
        </p>
        <div class="d-flex justify-content-center gap-3 flex-wrap">
          <a href="#" data-bs-toggle="modal" data-bs-target="#roleSelectModal" class="btn btn-light btn-lg px-4 py-3 fw-bold" style="border-radius: 50px;">
            <i class="bi bi-box-arrow-in-right me-2"></i>Login Now
          </a>
          <a href="#" data-bs-toggle="modal" data-bs-target="#roleSelectModal" class="btn btn-outline-light btn-lg px-4 py-3 fw-bold" style="border-radius: 50px;">
            <i class="bi bi-person-plus me-2"></i>Register Free
          </a>
        </div>
        <small class="d-block mt-3 opacity-75">Join thousands of farmers already using our platform!</small>
      </div>
    </div>
  </div>
</section>
{% endif %}

<section id="marketplace-intro" class="py-5" style="background: linear-gradient(135deg, #fdfbfb, #ebedee);">
  <div class="container my-5">
  <div class="row align-items-center">
    
    <!-- Left Content -->
    <div class="col-lg-6 order-1 order-lg-1 mb-4 mb-lg-0">
      <h1 class="fw-bold" style="color:#2c3e50;font-size:clamp(1.8rem,4vw,2.8rem)">üåæ Welcome to Our Marketplace</h1>
      <p class="lead text-muted mt-3" style="font-size:clamp(1rem,2vw,1.2rem)">
        Discover high-quality seeds, organic fertilizers, modern farming tools, and crop protection products ‚Äì 
        all in one place. Our marketplace connects farmers with trusted suppliers to ensure better yield and 
        sustainable farming practices.
      </p>
      
      <!-- Video for Mobile (shown between description and list) -->
      <div class="d-lg-none text-center my-4">
        <div style="position: relative; width: 100%; max-width: 600px; margin: 0 auto;">
          <img src="{% static 'app/images/laptop_frame.png' %}" alt="Laptop Frame" style="width: 100%; height: auto; display: block;">
          <div style="position: absolute; top: 28%; left: 15%; width: 70%; height: 42%; overflow: hidden; border-radius: 10px;">
            <video autoplay loop muted playsinline style="width: 100%; height: 100%; object-fit: cover;">
              <source src="{% static 'app/images/marketplace.mp4' %}" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
      </div>
      
      <ul class="list-unstyled mt-4" style="font-size:clamp(0.95rem,2vw,1.1rem)">
        <li class="mb-2">‚úÖ Trusted & Verified Products</li>
        <li class="mb-2">‚úÖ Affordable Prices with Discounts</li>
        <li class="mb-2">‚úÖ Fast & Reliable Delivery</li>
        <li class="mb-2">‚úÖ 24/7 Support for Farmers</li>
      </ul>
      <a href="{% url 'app:schemes' %}" class="btn btn-success btn-lg mt-4" style="border-radius:50px;padding:12px 30px;font-weight:700">Explore Marketplace</a>
    </div>

    <!-- Right Image/Video (Desktop only) -->
    <div class="col-lg-6 order-2 order-lg-2 text-center d-none d-lg-block">
      <div style="position: relative; width: 100%; max-width: 600px; margin: 0 auto;">
        
        <!-- Laptop Frame -->
        <img src="{% static 'app/images/laptop_frame.png' %}" 
             alt="Laptop Frame" 
             style="width: 100%; height: auto; display: block;">
        
        <!-- Video inside Laptop -->
        <div style="position: absolute; 
                    top: 28%;     
                    left: 15%;    
                    width: 70%;   
                    height: 42%;  
                    overflow: hidden; 
                    border-radius: 10px;">
          <video autoplay loop muted playsinline 
                 style="width: 100%; height: 100%; object-fit: cover;">
            <source src="{% static 'app/images/marketplace.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>

  </div>
</div>
</section>

<section class="py-5" style="background:linear-gradient(135deg,#e8f5e9,#f1f8e9);position:relative;overflow:hidden">
<div class="position-absolute" style="top:0;left:0;width:100%;height:100%;opacity:0.05;background:url('data:image/svg+xml,<svg width="80" height="80" xmlns="http://www.w3.org/2000/svg"><circle cx="40" cy="40" r="30" fill="%232e7d32" opacity="0.1"/></svg>') repeat"></div>
<div class="container position-relative" style="z-index:1">
<div class="text-center mb-5">
<h1 class="fw-bold mb-3" style="font-size:clamp(2.2rem,5vw,3.8rem);color:#1b5e20;text-shadow:2px 2px 4px rgba(0,0,0,0.1)">üåæ Empower Your Farm, Every Day</h1>
<p class="lead mx-auto" style="max-width:750px;font-size:clamp(1.1rem,2vw,1.4rem);color:#2e7d32;font-weight:500">Access tools, seeds, weather updates, and expert advice ‚Äî everything you need to grow smarter and stronger</p>
</div>
<div class="row g-4 justify-content-center">
<div class="col-lg-3 col-md-6 col-6">
<div class="feature-card text-center p-4">
<div class="icon-wrapper mb-3">
<div class="icon-circle">üå±</div>
</div>
<h5 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1rem,2vw,1.3rem)">Premium Seeds</h5>
<p class="text-muted mb-0" style="font-size:clamp(0.85rem,1.5vw,1rem)">High-yield certified seeds</p>
</div>
</div>
<div class="col-lg-3 col-md-6 col-6">
<div class="feature-card text-center p-4">
<div class="icon-wrapper mb-3">
<div class="icon-circle">üå§Ô∏è</div>
</div>
<h5 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1rem,2vw,1.3rem)">Weather Insights</h5>
<p class="text-muted mb-0" style="font-size:clamp(0.85rem,1.5vw,1rem)">Real-time forecasts</p>
</div>
</div>
<div class="col-lg-3 col-md-6 col-6">
<div class="feature-card text-center p-4">
<div class="icon-wrapper mb-3">
<div class="icon-circle">üßë‚Äçüåæ</div>
</div>
<h5 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1rem,2vw,1.3rem)">Expert Advice</h5>
<p class="text-muted mb-0" style="font-size:clamp(0.85rem,1.5vw,1rem)">24/7 agricultural support</p>
</div>
</div>
<div class="col-lg-3 col-md-6 col-6">
<div class="feature-card text-center p-4">
<div class="icon-wrapper mb-3">
<div class="icon-circle">üöú</div>
</div>
<h5 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1rem,2vw,1.3rem)">Modern Tools</h5>
<p class="text-muted mb-0" style="font-size:clamp(0.85rem,1.5vw,1rem)">Latest farming equipment</p>
</div>
</div>
</div>
</div>
</section>
<style>
.feature-card{background:#fff;border-radius:20px;border:2px solid transparent;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);cursor:pointer;height:100%;box-shadow:0 4px 15px rgba(0,0,0,0.08)}
.feature-card:hover{transform:translateY(-12px);box-shadow:0 20px 40px rgba(46,125,50,0.25);border-color:#66bb6a}
.icon-wrapper{position:relative;display:inline-block}
.icon-circle{width:80px;height:80px;margin:0 auto;background:linear-gradient(135deg,#66bb6a,#81c784);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;box-shadow:0 8px 20px rgba(102,187,106,0.3);transition:all 0.3s ease}
.feature-card:hover .icon-circle{transform:rotate(360deg) scale(1.1);box-shadow:0 12px 30px rgba(102,187,106,0.5)}
@media (max-width:768px){.icon-circle{width:60px;height:60px;font-size:2rem}}
</style>



 <!-- Marketplace Showcase Section -->
<section id="marketplace" class="custom-section">
  <div class="container">
    <div class="row align-items-center">


       <div class="col-lg-6 text-center">
        <video autoplay loop muted playsinline class="styled-video">
          <source src="{% static 'app/images/marketplaceintro.mp4' %}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="col-lg-6 mb-4 mb-lg-0">
        <h2 class="section-title">üõí Smart Farming Marketplace</h2>
        <p class="section-text">
          Explore a wide range of seeds, fertilizers, and farming tools. Connect with trusted suppliers and make informed purchases to boost your farm's productivity.
        </p>
        <a href="{% url 'app:schemes' %}" class="btn-custom">Visit Marketplace</a>
      </div>

     

    </div>
  </div>
</section>



  <!-- AI Disease Detection Section -->
  <section id="disease-detection" class="custom-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <h2 class="section-title">üî¨ AI-Powered Disease Detection</h2>
          <p class="section-text">Utilize computer vision to analyze your crop photos and accurately detect common diseases, helping you protect your harvest with advanced AI technology.</p>
          <a href="{% url 'app:disease_detection' %}" class="btn-custom">Detect Disease</a>
        </div>
        <div class="col-lg-6 text-center">
          <video autoplay loop muted playsinline class="styled-video">
            <source src="{% static 'app/images/Farming_AI_Project_Intro_Video.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        
        
      </div>
    </div>
  </section>





 <!-- Weather & Farming Advice Section -->
<section id="advice" class="custom-section">
  <div class="container">
    <div class="row align-items-center">

       <div class="col-lg-6 order-lg-1 text-center">
        <video autoplay loop muted playsinline class="styled-video">
          <source src="{% static 'app/images/Smart_Farming_Tradition_Meets_Future.mp4' %}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="col-lg-6 order-lg-2 mb-4 mb-lg-0">
        <h2 class="section-title">üå§ Weather & Farming Insights</h2>
        <p class="section-text">
          Stay updated with real-time weather, temperature, humidity, and get practical farming tips to maximize crop yield and prevent crop damage.
        </p>
        <a href="{% url 'app:farming_advice' %}" class="btn-custom">View Advice</a>
      </div>

    </div>
  </div>
</section>




<!-- Crop Yield Prediction Section -->
  <section id="prediction" class="custom-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <h2 class="section-title">üå± Crop Yield Prediction</h2>
          <p class="section-text">Predict your crop yield easily using rainfall, temperature, and soil quality data. Make informed decisions for better harvests with data-driven insights.</p>
          <a href="{% url 'app:prediction' %}" class="btn-custom">Predict Yield</a>
        </div>
        <div class="col-lg-6 text-center">
          <video autoplay loop muted playsinline class="styled-video">
            <source src="{% static 'app/images/Farmer_s_Futuristic_Farm_Vision.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
  </section>




 <!-- Government Schemes Section -->
  <section id="schemes" class="custom-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2 mb-4 mb-lg-0">
          <h2 class="section-title">üìú Find Government Schemes</h2>
          <p class="section-text">Get access to the best government schemes tailored for you. Discover subsidies, loans, and support programs designed specifically for farmers.</p>
          <a href="{% url 'app:schemes' %}" class="btn-custom">Find Schemes</a>
        </div>
        <div class="col-lg-6 order-lg-1 text-center">
          <video autoplay loop muted playsinline class="styled-video">
            <source src="{% static 'app/images/Government_Scheme_Finder_Intro_Video.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
  </section>



 <!-- News Section -->
  <section id="news" class="custom-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 order-lg-2 mb-4 mb-lg-0">
          <h2 class="section-title">üì∞ Latest Farming News</h2>
          <p class="section-text">Stay updated with the latest agricultural news, policy changes, market trends, and technological innovations affecting the farming industry.</p>
          <a href="{% url 'app:news' %}" class="btn-custom">Read More</a>
        </div>
        <div class="col-lg-6 order-lg-1 text-center">
          <video autoplay loop muted playsinline class="styled-video">
            <source src="{% static 'app/images/Peaceful_Indian_Village_Life_Video.mp4' %}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
  </section>


<!-- Forum Section -->
<section id="forum" class="custom-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 order-lg-1 mb-4 mb-lg-0">
        <h2 class="section-title">üí¨ Join the Farmer Community</h2>
        <p class="section-text">
          Connect with other farmers, ask questions, share knowledge, and learn from experienced agricultural professionals in our vibrant community.
        </p>
        <a href="{% url 'app:forum' %}" class="btn-custom">Join Forum</a>
      </div>
      <div class="col-lg-6 order-lg-2 text-center">
        <video autoplay loop muted playsinline class="styled-video">
          <source src="{% static 'app/images/WhatsApp Video 2025-08-29 at 00.25.46_e37d6aa1.mp4' %}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
  </div>
</section>







<section id="about" class="py-4 py-md-5" style="background:linear-gradient(180deg,#f8f9fa 0%,#e8f5e9 100%)">
<div class="container">
<div class="text-center mb-3 mb-md-4">
<h2 class="fw-bold mb-2" style="font-size:clamp(1.5rem,4vw,3rem);color:#1b5e20">‚ÑπÔ∏è About <span style="color:#2e7d32">Kisan Connect</span></h2>
<p class="text-muted mx-auto" style="max-width:700px;font-size:clamp(0.9rem,2vw,1.2rem)">Empowering farmers with information, opportunities, and a connected farming community.</p>
<div style="width:60px;height:3px;background:linear-gradient(90deg,#2e7d32,#66bb6a);margin:1rem auto;border-radius:2px"></div>
</div>
<div class="row align-items-center g-3 g-md-4 mb-3 mb-md-4">
<div class="col-lg-6">
<h3 class="fw-bold mb-2 mb-md-3" style="color:#1b5e20;font-size:clamp(1.2rem,3vw,2rem)"><span style="font-size:clamp(1.8rem,5vw,2.5rem);margin-right:0.3rem">üåæ</span>Who We Are</h3>
<p class="text-muted mb-2" style="line-height:1.6;font-size:clamp(0.85rem,2vw,1.1rem)">Kisan Connect is a one-stop digital platform designed to empower farmers by providing easy access to government schemes, expert farming advice, a marketplace for agricultural products, community discussions, and the latest farming news.</p>
<p class="text-muted mb-3" style="line-height:1.6;font-size:clamp(0.85rem,2vw,1.1rem)">We bridge traditional farming practices with modern technology, ensuring farmers have all the resources they need to grow sustainably and profitably.</p>
<a href="{% url 'app:contact' %}" class="btn btn-lg rounded-pill px-4 py-2 shadow" style="background:linear-gradient(135deg,#2e7d32,#388e3c);border:none;color:#fff;font-weight:600;font-size:clamp(0.9rem,2vw,1rem)">üì© Contact Us</a>
</div>
<div class="col-lg-6 text-center">
<img src="{% static 'app/images/logo.png' %}" alt="Kisan Connect" class="img-fluid" style="max-width:clamp(200px,50vw,350px);filter:drop-shadow(0 10px 20px rgba(46,125,50,0.2))">
</div>
</div>
<div class="row g-0 d-none d-md-flex">
<div class="col-md-6 p-4 text-center">
<div style="font-size:clamp(2.5rem,8vw,4rem);margin-bottom:0.8rem">üå±</div>
<h4 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1.1rem,2.5vw,1.8rem)">Our Mission</h4>
<p class="text-muted" style="line-height:1.6;font-size:clamp(0.85rem,2vw,1.1rem);max-width:500px;margin:0 auto">To empower farmers with digital tools, transparent pricing, and direct market access. Reducing middlemen and creating opportunities for higher profits and sustainable growth.</p>
</div>
<div class="col-md-6 p-4 text-center" style="border-left:2px solid #e0e0e0">
<div style="font-size:clamp(2.5rem,8vw,4rem);margin-bottom:0.8rem">üöú</div>
<h4 class="fw-bold mb-2" style="color:#1b5e20;font-size:clamp(1.1rem,2.5vw,1.8rem)">Our Vision</h4>
<p class="text-muted" style="line-height:1.6;font-size:clamp(0.85rem,2vw,1.1rem);max-width:500px;margin:0 auto">A connected farming ecosystem where every farmer has equal access to modern resources, buyers, and suppliers, ensuring prosperity for generations to come.</p>
</div>
</div>
</div>
</section>



<!-- Customer Reviews Section -->
<section class="py-5" style="background:linear-gradient(180deg,#f8fdf9 0%,#fff 100%)">
  <div class="container">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
      <div>
        <h2 class="fw-bold mb-1" style="color:#1b5e20;font-size:clamp(1.5rem,5vw,2.5rem)">üåæ Customer Reviews</h2>
        <p class="text-muted mb-0" style="font-size:clamp(0.85rem,2vw,1rem)">See what our farmers are saying</p>
      </div>
      {% if user.is_authenticated %}
      <button onclick="document.getElementById('reviewForm').style.display='block';this.style.display='none'" style="background:#ffc107;border:none;color:#000;padding:12px 24px;border-radius:8px;font-weight:700;font-size:0.95rem;cursor:pointer;box-shadow:0 4px 12px rgba(255,193,7,0.3);white-space:nowrap">‚≠ê Write Review</button>
      {% endif %}
    </div>

    <!-- Stats Card -->
    {% if reviews %}
    <div class="card mb-5" style="border-radius:16px;border:none;box-shadow:0 4px 20px rgba(0,0,0,0.08);background:linear-gradient(135deg,#fff 0%,#f8fdf9 100%)">
      <div class="card-body p-4">
        <div class="row g-3">
          <div class="col-md-3 col-12 text-center border-md-end mb-3 mb-md-0">
            <div style="font-size:clamp(2.5rem,8vw,3.5rem);font-weight:800;color:#2e7d32;line-height:1">4.0</div>
            <div class="my-2" style="color:#ffc107;font-size:clamp(1.2rem,4vw,1.5rem)">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</div>
            <p class="text-muted mb-0 fw-semibold" style="font-size:clamp(0.85rem,2vw,1rem)">{{ reviews|length }} Total Reviews</p>
          </div>
          <div class="col-md-6 col-12 border-md-end mb-3 mb-md-0">
            <div class="px-2 px-md-3">
              {% for i in "54321" %}
              <div class="d-flex align-items-center mb-2">
                <span class="me-2 fw-semibold" style="min-width:45px;font-size:clamp(0.85rem,2vw,1rem)">{{ i }} ‚≠ê</span>
                <div class="progress flex-grow-1" style="height:8px;border-radius:5px;background:#e9ecef">
                  <div class="progress-bar" style="background:linear-gradient(90deg,#2e7d32,#4caf50);width:{% if i == '5' %}60{% elif i == '4' %}25{% elif i == '3' %}10{% elif i == '2' %}3{% else %}2{% endif %}%"></div>
                </div>
                <span class="ms-2 text-muted fw-semibold" style="min-width:25px;font-size:clamp(0.8rem,2vw,0.95rem)">{% if i == '5' %}21{% elif i == '4' %}9{% elif i == '3' %}3{% elif i == '2' %}1{% else %}1{% endif %}</span>
              </div>
              {% endfor %}
            </div>
          </div>
          <div class="col-md-3 col-12">
            <div class="d-flex flex-column gap-2 px-2">
              <div class="d-flex align-items-center justify-content-between p-2" style="background:#e8f5e9;border-radius:8px;font-size:clamp(0.85rem,2vw,1rem)">
                <span>üå± Quality</span>
                <span class="fw-bold" style="color:#2e7d32">4.0</span>
              </div>
              <div class="d-flex align-items-center justify-content-between p-2" style="background:#e8f5e9;border-radius:8px;font-size:clamp(0.85rem,2vw,1rem)">
                <span>üöú Delivery</span>
                <span class="fw-bold" style="color:#2e7d32">4.2</span>
              </div>
              <div class="d-flex align-items-center justify-content-between p-2" style="background:#e8f5e9;border-radius:8px;font-size:clamp(0.85rem,2vw,1rem)">
                <span>üí¨ Support</span>
                <span class="fw-bold" style="color:#2e7d32">4.0</span>
              </div>
              <div class="d-flex align-items-center justify-content-between p-2" style="background:#f5f5f5;border-radius:8px;font-size:clamp(0.85rem,2vw,1rem)">
                <span>üìç Location</span>
                <span class="fw-bold" style="color:#666">3.5</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Review Form -->
    {% if user.is_authenticated %}
    <div id="reviewForm" class="card mb-5" style="border-radius:16px;border:none;box-shadow:0 4px 20px rgba(46,125,50,0.15);display:none;border-top:4px solid #2e7d32">
      <div class="card-body p-4">
        <h5 class="fw-bold mb-4" style="color:#1b5e20">‚úçÔ∏è Share Your Experience</h5>
        <form method="post">
          {% csrf_token %}
          <div class="mb-4">
            <label class="form-label fw-bold" style="color:#1b5e20">Your Rating</label>
            <div class="star-rating-input d-flex gap-2 align-items-center">
              <input type="radio" name="rating" value="5" id="s5" required hidden>
              <label for="s5" class="star-btn">‚≠ê</label>
              <input type="radio" name="rating" value="4" id="s4" hidden>
              <label for="s4" class="star-btn">‚≠ê</label>
              <input type="radio" name="rating" value="3" id="s3" hidden>
              <label for="s3" class="star-btn">‚≠ê</label>
              <input type="radio" name="rating" value="2" id="s2" hidden>
              <label for="s2" class="star-btn">‚≠ê</label>
              <input type="radio" name="rating" value="1" id="s1" hidden>
              <label for="s1" class="star-btn">‚≠ê</label>
              <span class="ms-3 fw-bold rating-text" style="color:#666">Select rating</span>
            </div>
          </div>
          <div class="mb-4">
            <label class="form-label fw-bold" style="color:#1b5e20">Your Review</label>
            <textarea name="review" class="form-control form-control-lg" rows="4" placeholder="Tell us about your experience..." required style="border:2px solid #e0e0e0;border-radius:10px"></textarea>
          </div>
          <button type="submit" class="btn btn-lg px-5" style="background:linear-gradient(135deg,#2e7d32,#4caf50);border:none;color:#fff;border-radius:10px;font-weight:700;box-shadow:0 4px 12px rgba(46,125,50,0.3)">Submit Review</button>
        </form>
      </div>
    </div>
    {% endif %}

    <!-- Reviews List -->
    <div class="row g-3 g-md-4">
      {% for review in reviews %}
      <div class="col-12 col-md-6">
        <div class="card h-100" style="border-radius:16px;border:none;box-shadow:0 2px 12px rgba(0,0,0,0.06);background:#fff">
          <div class="card-body p-3 p-md-4">
            <div class="d-flex justify-content-between align-items-start mb-3 gap-2">
              <div class="d-flex align-items-center gap-2 gap-md-3 flex-grow-1">
                <div class="rounded-circle d-flex align-items-center justify-content-center flex-shrink-0" style="width:45px;height:45px;background:linear-gradient(135deg,#2e7d32,#4caf50);color:#fff;font-weight:700;font-size:1.2rem">
                  {{ review.user.username|slice:":1"|upper }}
                </div>
                <div class="flex-grow-1 min-w-0">
                  <div class="fw-bold text-truncate" style="color:#1b5e20;font-size:clamp(0.95rem,2.5vw,1.1rem)">{{ review.user.first_name|default:review.user.username }}</div>
                  <small class="text-muted" style="font-size:clamp(0.75rem,2vw,0.85rem)">{{ review.created_at|date:"M d, Y" }}</small>
                </div>
              </div>
              <div class="px-2 px-md-3 py-1 flex-shrink-0" style="background:#fff3cd;border-radius:20px">
                <span style="color:#ffc107;font-size:clamp(0.9rem,2.5vw,1.1rem)">{% for i in "12345"|slice:":review.rating" %}‚≠ê{% endfor %}</span>
              </div>
            </div>
            <p class="mb-0" style="color:#555;line-height:1.7;font-size:clamp(0.85rem,2vw,0.95rem)">{{ review.review_text }}</p>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="text-center py-5">
          <div style="font-size:4rem;opacity:0.3">üìù</div>
          <p class="text-muted fs-5 mt-3">No reviews yet. Be the first to share!</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
<style>
.star-rating-input{flex-direction:row-reverse;justify-content:flex-end;flex-wrap:wrap}
.star-btn{font-size:2.5rem;cursor:pointer;filter:grayscale(100%);opacity:0.4;margin:0}
.star-btn:hover,.star-btn:hover ~ .star-btn{filter:grayscale(0%);opacity:1}
.star-rating-input input:checked ~ .star-btn{filter:grayscale(0%);opacity:1}
@media (max-width:768px){
  .star-btn{font-size:1.8rem}
  .rating-text{font-size:0.9rem!important;width:100%;text-align:center;margin-top:0.5rem!important}
  .border-md-end{border-right:none!important;border-bottom:1px solid #dee2e6;padding-bottom:1rem}
}
</style>
<script>
if(document.querySelector('.star-rating-input')){
  document.querySelectorAll('.star-rating-input input').forEach(input=>{
    input.addEventListener('change',function(){
      const text=this.nextElementSibling.parentElement.querySelector('.rating-text');
      const labels=['Poor','Fair','Good','Very Good','Excellent'];
      const colors=['#f44336','#ff9800','#2e7d32','#2e7d32','#2e7d32'];
      text.textContent=labels[this.value-1];
      text.style.color=colors[this.value-1];
    });
  });
}
</script>

<!-- Newsletter Section -->
<div class="container-fluid bg-success text-white py-5 mt-5 position-relative overflow-hidden">
  <div class="bg-success bg-opacity-90 position-absolute top-0 start-0 w-100 h-100" style="z-index: 0;"></div>
  
  <div class="container position-relative" style="z-index: 10;">
    <div class="row align-items-center gy-4">
      
      <!-- Left Content -->
      <div class="col-md-6">
        <h2 class="display-3 fw-bold mb-3 border-bottom border-warning pb-2" style="max-width: 450px; letter-spacing: 1px;">
          <i class="bi bi-envelope-fill me-3"></i>
          Stay Updated with the Latest Agricultural Products
        </h2>
        <p class="lead mb-4 fs-5">
          Get exclusive offers, expert farming tips, and seasonal advice delivered straight to your inbox. Don‚Äôt miss out on improving your yield!
        </p>
        <div class="d-flex align-items-center gap-3">
          <img src="{% static 'app/images/logo.png' %}" alt="Happy Farmer" class="shadow-lg" style="height:70px; border: 3px solid #ffc107;">
          <div>
            <p class="mb-0 fs-6">Join <strong>10,000+</strong> happy farmers who trust us!</p>
            <small class="opacity-75">100% spam-free. Unsubscribe anytime.</small>
          </div>
        </div>
      </div>

      <!-- Right Content -->
      <div class="col-md-6">
        <form id="newsletterForm" class="d-flex gap-3 flex-column flex-sm-row align-items-center" style="max-width: 550px; margin-left: auto;">
          {% csrf_token %}
          <input type="email" name="email" class="form-control form-control-lg rounded-pill shadow-sm" placeholder="Enter your email" aria-label="Email" required>
          <button type="submit" class="btn btn-warning btn-lg rounded-pill px-5 fw-bold shadow-sm newsletter-btn">
            Subscribe <i class="bi bi-arrow-right ms-2"></i>
          </button>
        </form>
        <div class="mt-2 text-warning fw-semibold small email-feedback" role="alert" style="display:none;"></div>
        <small class="d-block mt-3 opacity-75">We respect your privacy and never share your information.</small>

        <!-- Extra Benefits -->
        <div class="d-flex justify-content-around mt-5 text-center">
          <div>
            <i class="bi bi-truck fs-1 mb-2"></i>
            <p>Fast Delivery</p>
          </div>
          <div>
            <i class="bi bi-patch-check fs-1 mb-2"></i>
            <p>Trusted Quality</p>
          </div>
          <div>
            <i class="bi bi-chat-dots fs-1 mb-2"></i>
            <p>Expert Support</p>
          </div>
          <div>
            <i class="bi bi-award fs-1 mb-2"></i>
            <p>Best Offers</p>
          </div>
        </div>

        <!-- Social Media -->
        <div class="mt-4 text-center">
          <a href="#" class="btn btn-outline-light btn-lg rounded-circle mx-1" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
          <a href="#" class="btn btn-outline-light btn-lg rounded-circle mx-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
          <a href="#" class="btn btn-outline-light btn-lg rounded-circle mx-1" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
          <a href="#" class="btn btn-outline-light btn-lg rounded-circle mx-1" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Button hover animation */
  .newsletter-btn {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .newsletter-btn:hover {
    transform: translateX(5px);
    box-shadow: 0 8px 20px rgba(255, 193, 7, 0.6);
  }

  /* Input focus */
  input.form-control:focus {
    border-color: #ffc107;
    box-shadow: 0 0 8px #ffc107;
  }
</style>

<script>
document.getElementById('newsletterForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = this;
  const emailInput = form.querySelector('input[name="email"]');
  const feedback = document.querySelector('.email-feedback');
  const formData = new FormData(form);
  
  console.log('Submitting email:', emailInput.value);
  
  fetch('{% url "app:subscribe_newsletter" %}', {
    method: 'POST',
    body: formData,
    headers: {'X-CSRFToken': form.querySelector('[name=csrfmiddlewaretoken]').value}
  })
  .then(res => {
    console.log('Response status:', res.status);
    return res.json();
  })
  .then(data => {
    console.log('Response data:', data);
    feedback.textContent = data.message;
    feedback.style.display = 'block';
    if(data.success) {
      feedback.className = 'mt-2 text-success fw-semibold small email-feedback';
      form.reset();
    } else {
      feedback.className = 'mt-2 text-warning fw-semibold small email-feedback';
    }
  })
  .catch(err => {
    console.error('Error:', err);
    feedback.textContent = 'Subscription failed. Please try again.';
    feedback.className = 'mt-2 text-danger fw-semibold small email-feedback';
    feedback.style.display = 'block';
  });
});
</script>

<!-- Role Selection Modal -->
{% include 'app/role_select_modal.html' %}

<!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Standalone AI Chatbot -->
<script src="{% static 'app/js/chatbot.js' %}"></script>

<!-- Hero Slider Script -->
<script>
let currentSlide=0;const wrapper=document.querySelector('.hero-slides-wrapper');const slides=document.querySelectorAll('.hero-slide');const indicators=document.querySelectorAll('.indicator');const totalSlides=slides.length;function showSlide(n,instant=false){indicators.forEach(i=>i.classList.remove('active'));currentSlide=(n+totalSlides)%totalSlides;if(instant){wrapper.style.transition='none';wrapper.style.transform=`translateX(-${currentSlide*100}%)`;setTimeout(()=>wrapper.style.transition='transform 1s ease-in-out',50)}else{wrapper.style.transform=`translateX(-${currentSlide*100}%)`}indicators[currentSlide].classList.add('active')}
function nextSlide(){if(currentSlide===totalSlides-1){showSlide(currentSlide+1);setTimeout(()=>showSlide(0,true),1000)}else{showSlide(currentSlide+1)}}
setInterval(nextSlide,4000);indicators.forEach((ind,idx)=>{ind.addEventListener('click',()=>showSlide(idx))});showSlide(0);
</script>

<!-- Scroll Animation Script -->
<script>
const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('visible')}})},{threshold:0.1});
document.querySelectorAll('.custom-section').forEach(section=>observer.observe(section));
document.querySelectorAll('.card').forEach((card,i)=>{card.style.animationDelay=`${i*0.1}s`;card.style.animation='fadeInUp 0.6s ease forwards'});
</script>

</body>

</html>


